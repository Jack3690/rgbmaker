
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rgbmaker.imgplt &#8212; rgbmaker 0.0.4.8 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for rgbmaker.imgplt</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">ut</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.offsetbox</span> <span class="kn">import</span> <span class="n">AnchoredText</span>

<span class="c1"># -- below are slight modifications of </span>
<span class="c1"># original author: Min-Su Shin , University of Michigan ----- #-#</span>

<div class="viewcode-block" id="linear"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.linear">[docs]</a><span class="k">def</span> <span class="nf">linear</span><span class="p">(</span><span class="n">inputArray</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_max</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs linear scaling of the input numpy array.</span>
<span class="sd">	@type inputArray: numpy array</span>
<span class="sd">	@param inputArray: image data array</span>
<span class="sd">	@type scale_min: float</span>
<span class="sd">	@param scale_min: minimum data value</span>
<span class="sd">	@type scale_max: float</span>
<span class="sd">	@param scale_max: maximum data value</span>
<span class="sd">	@rtype: numpy array</span>
<span class="sd">	@return: image data array</span>

<span class="sd">	&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">inputArray</span><span class="o">.</span><span class="n">max</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
      <span class="n">imageData</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">inputArray</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

      <span class="k">if</span> <span class="n">scale_min</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
          <span class="n">scale_min</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">scale_max</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
          <span class="n">scale_max</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

      <span class="n">imageData</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="n">scale_min</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="n">scale_max</span><span class="p">)</span>
      <span class="n">imageData</span> <span class="o">=</span> <span class="p">(</span><span class="n">imageData</span> <span class="o">-</span><span class="n">scale_min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">scale_max</span> <span class="o">-</span> <span class="n">scale_min</span><span class="p">)</span>
      <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">imageData</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="n">imageData</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
      <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">imageData</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
      <span class="n">imageData</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">return</span> <span class="n">imageData</span></div>

<div class="viewcode-block" id="sqrt"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.sqrt">[docs]</a><span class="k">def</span> <span class="nf">sqrt</span><span class="p">(</span><span class="n">inputArray</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_max</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs sqrt scaling of the input numpy array.</span>
<span class="sd">	@type inputArray: numpy array</span>
<span class="sd">	@param inputArray: image data array</span>
<span class="sd">	@type scale_min: float</span>
<span class="sd">	@param scale_min: minimum data value</span>
<span class="sd">	@type scale_max: float</span>
<span class="sd">	@param scale_max: maximum data value</span>
<span class="sd">	@rtype: numpy array</span>
<span class="sd">	@return: image data array</span>

<span class="sd">	&quot;&quot;&quot;</span>		
    <span class="k">if</span> <span class="ow">not</span> <span class="n">inputArray</span><span class="o">.</span><span class="n">max</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">imageData</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">inputArray</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">scale_min</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">scale_min</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">scale_max</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">scale_max</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

    <span class="n">imageData</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="n">scale_min</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="n">scale_max</span><span class="p">)</span>
    <span class="n">imageData</span> <span class="o">=</span> <span class="n">imageData</span> <span class="o">-</span> <span class="n">scale_min</span>
    <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">imageData</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">imageData</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">imageData</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">imageData</span><span class="p">)</span>
    <span class="n">imageData</span> <span class="o">=</span> <span class="n">imageData</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">scale_max</span> <span class="o">-</span> <span class="n">scale_min</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">imageData</span></div>


<div class="viewcode-block" id="log"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.log">[docs]</a><span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">inputArray</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_max</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">factor</span><span class="o">=</span><span class="mf">2.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs log10 scaling of the input numpy array.</span>
<span class="sd">	@type inputArray: numpy array</span>
<span class="sd">	@param inputArray: image data array</span>
<span class="sd">	@type scale_min: float</span>
<span class="sd">	@param scale_min: minimum data value</span>
<span class="sd">	@type scale_max: float</span>
<span class="sd">	@param scale_max: maximum data value</span>
<span class="sd">	@rtype: numpy array</span>
<span class="sd">	@return: image data array</span>
<span class="sd">	</span>
<span class="sd">	&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">inputArray</span><span class="o">.</span><span class="n">max</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">imageData</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">inputArray</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


    <span class="k">if</span> <span class="n">scale_min</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">scale_min</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">scale_max</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">scale_max</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="c1">#factor =math.log10(scale_max - scale_min)</span>
    <span class="n">indices0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">imageData</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">indices1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">imageData</span> <span class="o">&gt;=</span> <span class="n">scale_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">imageData</span> <span class="o">&lt;=</span> <span class="n">scale_max</span><span class="p">))</span>
    <span class="n">indices2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">imageData</span> <span class="o">&gt;</span> <span class="n">scale_max</span><span class="p">)</span>
    <span class="n">imageData</span><span class="p">[</span><span class="n">indices0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">imageData</span><span class="p">[</span><span class="n">indices2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">imageData</span><span class="p">[</span><span class="n">indices1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">imageData</span><span class="p">[</span><span class="n">indices1</span><span class="p">])</span><span class="o">/</span><span class="n">factor</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Error on math.log10 &quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">imageData</span></div>

<span class="c1"># ---------- author : @avialxee ---------#-#</span>

<div class="viewcode-block" id="overlayc"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.overlayc">[docs]</a><span class="k">def</span> <span class="nf">overlayc</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">lvl</span><span class="p">,</span><span class="n">cmin</span><span class="p">)</span> <span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Returns RGB stacked image and contour levels to be overlayed.</span>
<span class="sd">  @input: </span>
<span class="sd">    r/g/b:(2-D array) survey 2-D array data in </span>
<span class="sd">    c :   (2-D array) survey data for contour</span>
<span class="sd">    lvl : (int) number of levels to draw</span>
<span class="sd">    cmin: (float) minimum value selected for the contour</span>
<span class="sd">  @return:</span>
<span class="sd">    Img : (np array) dimension: (px,px,3)</span>
<span class="sd">    lvlc: (list) dimension: None or of length len(lvl)</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">ri</span> <span class="o">=</span> <span class="n">normals</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
  <span class="n">gi</span> <span class="o">=</span> <span class="n">normals</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
  <span class="n">bi</span> <span class="o">=</span> <span class="n">normals</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">ri</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">ri</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">!=</span><span class="mi">0</span> <span class="p">:</span>
    <span class="n">ri</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">ri</span><span class="p">,</span><span class="n">scale_min</span><span class="o">=</span><span class="mf">0.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ri</span><span class="p">),</span><span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">ri</span><span class="p">))</span>
  <span class="k">if</span> <span class="n">gi</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">gi</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">!=</span><span class="mi">0</span> <span class="p">:</span>
    <span class="n">gi</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">gi</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="mf">0.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">gi</span><span class="p">),</span> <span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">gi</span><span class="p">))</span>
  <span class="k">if</span> <span class="n">bi</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">bi</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">!=</span><span class="mi">0</span> <span class="p">:</span>
    <span class="n">bi</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">bi</span><span class="p">,</span><span class="n">scale_min</span><span class="o">=</span><span class="mf">0.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">bi</span><span class="p">),</span><span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">bi</span><span class="p">))</span>
  <span class="n">replace</span> <span class="o">=</span> <span class="n">bi</span> <span class="o">&gt;</span> <span class="mi">1</span>
  <span class="n">bi</span><span class="p">[</span><span class="n">replace</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">replace</span> <span class="o">=</span> <span class="n">gi</span> <span class="o">&gt;</span> <span class="mi">1</span>
  <span class="n">gi</span><span class="p">[</span><span class="n">replace</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">replace</span> <span class="o">=</span> <span class="n">ri</span> <span class="o">&gt;</span> <span class="mi">1</span>
  <span class="n">ri</span><span class="p">[</span><span class="n">replace</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

  <span class="c1"># Stacking the Images and set up as 8-bit integers (highest value 2^8 = 256)</span>
  <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">((</span><span class="n">ri</span><span class="p">,</span><span class="n">gi</span><span class="p">,</span><span class="n">bi</span><span class="p">))</span><span class="o">*</span><span class="mf">255.99</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">cmin</span> <span class="p">:</span>
    <span class="n">lvlc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">cmin</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">max</span><span class="p">(),((</span><span class="n">c</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">cmin</span><span class="p">)</span><span class="o">/</span><span class="n">lvl</span><span class="p">))</span>
  <span class="k">else</span> <span class="p">:</span>
    <span class="n">lvlc</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="k">return</span> <span class="n">img</span><span class="p">,</span> <span class="n">lvlc</span></div>

<div class="viewcode-block" id="normals"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.normals">[docs]</a><span class="k">def</span> <span class="nf">normals</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  normalizing before scaling, </span>
<span class="sd">  @input:   (2D array) input survey</span>
<span class="sd">  @return:  (2D array) dimension same as input survey</span>

<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">X_scaled</span> <span class="o">=</span><span class="p">(</span><span class="n">o</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">o</span><span class="p">))</span>
  <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">!=</span><span class="mi">0</span> <span class="p">:</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X_scaled</span><span class="o">/</span><span class="n">o</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">X</span>
  <span class="k">else</span> <span class="p">:</span>
    <span class="k">return</span> <span class="n">X_scaled</span></div>

<div class="viewcode-block" id="pl_powerlawsi"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.pl_powerlawsi">[docs]</a><span class="k">def</span> <span class="nf">pl_powerlawsi</span><span class="p">(</span><span class="n">S</span><span class="p">,</span><span class="n">S_e</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">1420</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  plot powerlaw of spectralindex</span>

<span class="sd">  Inputs:</span>
<span class="sd">  -------</span>
<span class="sd">    S     : Total flux of TGSS and NVSS resp (list)</span>
<span class="sd">    S_e   : error on Total flux of TGSS and NVSS resp (list)</span>
<span class="sd">    freq  : frequency of TGSS and NVSS resp (list) (default = [150, 1420] )</span>

<span class="sd">  Example:</span>
<span class="sd">  --------</span>
<span class="sd">  &gt;&gt;&gt; S_e = [42.6, 2.6]</span>
<span class="sd">  &gt;&gt;&gt; S = [424.0, 60.0]</span>
<span class="sd">  &gt;&gt;&gt; pl_si(S,S_e)</span>
<span class="sd">  &quot;&quot;&quot;</span>
  
  <span class="n">tgss</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
  <span class="n">nvss</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
  <span class="n">factor</span> <span class="o">=</span> <span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">freq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="n">si</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">tgss</span><span class="p">,</span> <span class="n">nvss</span><span class="p">)</span><span class="o">+</span><span class="mf">1E-5</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">factor</span><span class="o">+</span><span class="mf">1E-5</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
  <span class="n">si</span>
  <span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
  <span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span>
  <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
  <span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">ax1</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">S_e</span><span class="p">,</span>
            <span class="n">label</span> <span class="o">=</span><span class="s1">&#39;Line1&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
  <span class="n">ax1</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
  <span class="n">ax1</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
  <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Spectral flux (mJy)&#39;</span><span class="p">)</span>
  <span class="n">ax1</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([</span><span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">freq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.4</span><span class="p">,</span><span class="n">freq</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
  <span class="c1">#ax1.set_yticks([S[0], S[1]*0.4, S[1]])</span>
  <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;frequency (MHz)&#39;</span><span class="p">)</span>
  <span class="c1">#slope = (S[1]-S[0])/(freq[1]-freq[0])</span>
  <span class="n">anchored_text</span> <span class="o">=</span> <span class="n">AnchoredText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spectral index: </span><span class="si">{</span><span class="n">si</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">ax1</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">anchored_text</span><span class="p">)</span>
  <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">kind</span> <span class="o">!=</span> <span class="s1">&#39;plot&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">plt</span><span class="p">,</span> <span class="n">fig</span></div>

<div class="viewcode-block" id="pl_RGB"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.pl_RGB">[docs]</a><span class="k">def</span> <span class="nf">pl_RGB</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span><span class="n">title</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inputs:</span>
<span class="sd">    --------</span>
<span class="sd">        rows    : (int) Total number of rows.</span>
<span class="sd">        columns : (int) Total number of columns.</span>
<span class="sd">        i       : (int) current number of the cell.</span>
<span class="sd">        wcs     : (astropy wcs) world coordinate system fetched from header of fits</span>
<span class="sd">        img     : (np array) dimension = (px,px,3)</span>
<span class="sd">        fig     : (maplotlib.pyplot.figure)</span>
<span class="sd">        name    : (string) input name to be show on figure</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">        adds plot to the figure.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="c1">#--- RGBC plot -------------------#--#</span>
  
  <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gist_gray&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">annot</span><span class="p">:</span>
      <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;#RADatHomeIndia&quot;</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
      <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;By &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">),(</span><span class="mi">400</span><span class="o">-</span><span class="mi">5</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">),</span><span class="mi">10</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
      <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">title</span><span class="p">),</span>
                    <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pad</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_autoscale_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="overlayo"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.overlayo">[docs]</a><span class="k">def</span> <span class="nf">overlayo</span><span class="p">(</span><span class="n">ri</span><span class="p">,</span> <span class="n">gi</span><span class="p">,</span> <span class="n">bi</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;IOU&#39;</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Returns RGB stacked image.</span>

<span class="sd">  Input: </span>
<span class="sd">  ------</span>
<span class="sd">    ri/gi/bi: (2-D array) survey 2-D array data in </span>
<span class="sd">    kind  :   (string) either IOU or Optical</span>

<span class="sd">  Returns:</span>
<span class="sd">  --------</span>
<span class="sd">    Img : (nd array) dimension: (px,px,3)</span>
<span class="sd">    scaling :</span>
<span class="sd">        - IOU</span>
<span class="sd">          - sqrt(w22), sqrt(dss2r), log(gnuv)(5 to 100% &amp; factor =3.15) </span>
<span class="sd">        - Optical</span>
<span class="sd">          - sqrt, sqrt, sqrt (min to max) </span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s1">&#39;IOU&#39;</span><span class="p">:</span>
    <span class="n">ri</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">ri</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ri</span><span class="p">),</span><span class="mf">1.</span><span class="p">),</span> <span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ri</span><span class="p">),</span><span class="mf">100.</span><span class="p">))</span>
    <span class="n">gi</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">gi</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">gi</span><span class="p">),</span><span class="mf">1.</span><span class="p">),</span> <span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">gi</span><span class="p">),</span><span class="mf">100.</span><span class="p">))</span>
    <span class="c1">#gi = log(gi, scale_min=np.percentile(np.unique(gi),0.), scale_max=np.percentile(np.unique(gi),100.),factor=2.85)</span>
    <span class="n">bi</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">bi</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">bi</span><span class="p">),</span> <span class="mf">5.</span><span class="p">),</span>
             <span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">bi</span><span class="p">),</span> <span class="mf">100.</span><span class="p">),</span> <span class="n">factor</span><span class="o">=</span><span class="mf">3.15</span><span class="p">)</span>
    <span class="n">mul_factor</span> <span class="o">=</span> <span class="mi">255</span><span class="o">/</span><span class="n">ri</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">([(</span><span class="n">ri</span><span class="o">*</span><span class="n">mul_factor</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">),(</span><span class="n">gi</span><span class="o">*</span><span class="mi">255</span><span class="o">/</span><span class="n">gi</span><span class="o">.</span><span class="n">max</span><span class="p">())</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">),(</span><span class="n">bi</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>

  <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s1">&#39;Optical&#39;</span><span class="p">:</span>
    <span class="c1">#ri = log(ri, scale_min=np.percentile(np.unique(ri),1.), scale_max=np.percentile(np.unique(ri),100.),factor=0.3)</span>
    <span class="n">ri</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">ri</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">ri</span><span class="p">),</span> <span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ri</span><span class="p">),</span><span class="mf">100.</span><span class="p">))</span>
    <span class="n">gi</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">gi</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="mf">1.15</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">gi</span><span class="p">),</span> <span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">gi</span><span class="p">),</span><span class="mf">100.</span><span class="p">))</span>
    <span class="c1">#gi = log(gi, scale_min=np.percentile(np.unique(gi),0.), scale_max=np.percentile(np.unique(gi),100.),factor=7.85)</span>
    <span class="c1">#bi = log(bi, scale_min=np.percentile(np.unique(bi),1.), scale_max=np.percentile(np.unique(bi),100.),factor=3.15)</span>
    <span class="n">bi</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">bi</span><span class="p">,</span> <span class="n">scale_min</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">bi</span><span class="p">),</span> <span class="n">scale_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">bi</span><span class="p">),</span><span class="mf">100.</span><span class="p">))</span>
    <span class="n">mul_factor</span> <span class="o">=</span> <span class="mi">255</span><span class="o">/</span><span class="n">ri</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">([(</span><span class="n">ri</span><span class="o">*</span><span class="n">mul_factor</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">),(</span><span class="n">gi</span><span class="o">*</span><span class="mf">255.99</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">),(</span><span class="n">bi</span><span class="o">*</span><span class="mi">256</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>
  <span class="c1">#img = (np.dstack((ri,gi,bi))*255.99).astype(np.uint8)</span>
  <span class="c1">#img = np.stack([ri,gi,bi], axis=2)</span>
  <span class="k">return</span> <span class="n">img</span></div>

<div class="viewcode-block" id="pl_RGBC"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.pl_RGBC">[docs]</a><span class="k">def</span> <span class="nf">pl_RGBC</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span><span class="n">columns</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">wcs</span><span class="p">,</span><span class="n">svy</span><span class="p">,</span><span class="n">lvlc</span><span class="p">,</span><span class="n">img</span><span class="p">,</span><span class="n">fig</span><span class="p">,</span><span class="n">name</span><span class="p">,</span> <span class="n">pkind</span><span class="o">=</span><span class="s1">&#39;ror&#39;</span><span class="p">,</span><span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inputs:</span>
<span class="sd">    --------</span>
<span class="sd">        rows    : (int) Total number of rows.</span>
<span class="sd">        columns : (int) Total number of columns.</span>
<span class="sd">        i       : (int) current number of the cell.</span>
<span class="sd">        wcs     : (astropy wcs) world coordinate system fetched from header of fits</span>
<span class="sd">        svy     : (np array) 2-D array survey for contours.</span>
<span class="sd">        lvlc    : (list) list of float</span>
<span class="sd">        img     : (np array) dimension = (px,px,3)</span>
<span class="sd">        fig     : (maplotlib.pyplot.figure)</span>
<span class="sd">        name    : (string) input name to be show on figure</span>
<span class="sd">        pkind   : (str) ror/iou; default=&#39;ror&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">        plots the ror/iou figure.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">wcs</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span> <span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">annot</span><span class="p">:</span>
      <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;#RADatHomeIndia&quot;</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
      <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;By &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">),((</span><span class="mi">400</span><span class="o">-</span><span class="mi">5</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)),</span><span class="mi">10</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_autoscale_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">svy</span><span class="p">,</span> <span class="n">lvlc</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pkind</span> <span class="o">==</span> <span class="s1">&#39;ror&#39;</span> <span class="ow">and</span> <span class="n">annot</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">1</span> <span class="p">:</span>
          <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;ROR-RGB-C: TGSS(GMRT)-DSS2-NVSS(VLA)-NVSS&quot;</span><span class="p">,</span>
                      <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pad</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
          <span class="c1">#ax.set_title(&quot;&quot;)</span>
      <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">2</span> <span class="p">:</span>
          <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;ROR-RGB-C: TGSS(GMRT)-DSS2-NVSS(VLA)-TGSS&quot;</span><span class="p">,</span>
                      <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pad</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">pkind</span> <span class="o">==</span> <span class="s1">&#39;iou&#39;</span> <span class="ow">and</span> <span class="n">annot</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">1</span> <span class="p">:</span>
          <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;IOU-RGB-C: WISE(22)-DSS2(red)-GALEX(NUV)-TGSS&quot;</span><span class="p">,</span>
                      <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pad</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">2</span> <span class="p">:</span>
          <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Optical-RGB-C: DSS2(IR)-DSS2(Red)-DSS2(blue)-TGSS&quot;</span><span class="p">,</span>
                      <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pad</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span></div>


<span class="c1"># ------------ arcsec to pixel conversion ----------------------------#-#</span>

<div class="viewcode-block" id="to_pixel"><a class="viewcode-back" href="../../rgbmaker.html#rgbmaker.imgplt.to_pixel">[docs]</a><span class="k">def</span> <span class="nf">to_pixel</span><span class="p">(</span><span class="n">unit_inarcsec</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">px</span> <span class="o">=</span> <span class="mi">480</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    convert arcsec into pixel.</span>
<span class="sd">    @input:</span>
<span class="sd">        unit_inarcsec: input magnitude (unitless) data in arcsec</span>
<span class="sd">        r   :   length of square image in deg</span>
<span class="sd">        px  :   total pixels in one length</span>
<span class="sd">    @return:</span>
<span class="sd">        input data converted to be used onto pixel length rounded upto 2 decimal places.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">nvss_px_scale</span> <span class="o">=</span> <span class="n">px</span><span class="o">/</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(((</span><span class="n">unit_inarcsec</span><span class="o">/</span><span class="mi">3600</span><span class="p">)</span> <span class="o">*</span> <span class="n">ut</span><span class="o">.</span><span class="n">deg</span> <span class="o">*</span> <span class="n">nvss_px_scale</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">rgbmaker</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  <li><a href="../rgbmaker.html">rgbmaker</a><ul>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, avialxee.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>